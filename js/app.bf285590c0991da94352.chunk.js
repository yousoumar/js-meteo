!function(){"use strict";var e,n={840:function(e,n,t){var r,i,o={"01d":t(110),"01n":t(106),"02d":t(430),"02n":t(111),"03d":t(206),"03n":t(574),"04d":t(706),"04n":t(780),"09d":t(279),"09n":t(700),"10d":t(841),"10n":t(536),"11d":t(807),"11n":t(590),"13d":t(459),"13n":t(13),"50d":t(476),"50n":t(971)},s=document.querySelector(".location"),c=document.querySelector("#toggle-form"),a=document.querySelector(".city span:last-child"),u=!1,d=document.querySelector(".main-temperature-description div:first-child"),l=document.querySelector(".main-temperature"),p=document.querySelector(".today"),f=document.querySelector(".main-time-img img"),v=document.querySelector(".loader"),m=document.querySelectorAll(".weekend > div"),g=document.querySelector("form"),h=document.querySelector("input"),y=document.querySelector(".info"),x=document.querySelectorAll(".hightlights .content > div"),b="50021d7620cf40fe0d17ecde68cfceeb",w=!0;function T(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];y.innerHTML=e,y.style.display="flex",n||setTimeout((function(){y.style.display="none"}),3e3)}function S(e,n){fetch("https://api.openweathermap.org/data/2.5/onecall?lang=fr&units=metric&lat=".concat(e,"&lon=").concat(n,"&appid=").concat(b)).then((function(e){if(e.ok)return e.json();throw Error()})).then((function(e){p.innerText=(new Date).toLocaleDateString("fr-FR",{weekday:"long",month:"long",day:"numeric"}),l.innerHTML="<span>".concat(Math.trunc(e.current.temp),"</span> °C"),u||(a.innerText=e.timezone),d.innerText=e.current.weather[0].description,f.src=o[e.current.weather[0].icon];var n=["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"],t=(new Date).toLocaleDateString("fr-FR",{weekday:"long"});t=t.charAt(0).toUpperCase()+t.slice(1);var r=n.slice(n.indexOf(t)).concat(n.slice(0,n.indexOf(t)));document.querySelector("h1").innerHTML="Les points forts";for(var i=0;i<m.length;i++)m[i].innerHTML="<div>".concat(r[i],"</div>\n                                       <div><img src = ").concat(o["".concat(e.daily[i].weather[0].icon)],' = ></img></div>\n                                       <div><span class="max">').concat(Math.trunc(e.daily[i].temp.max),'°C</span> <span class="min">').concat(Math.trunc(e.daily[i].temp.min),"°C</span></div>");x[0].innerHTML='<div>Vitesse du vent</div>\n                                      <div class = "number"><span>'.concat(e.current.wind_speed,'</span> m/s</div>\n                                      <div class ="icon-container"> \n                                        <i class="fas fa-location-arrow"></i>\n                                        <div> WSW</div>\n                                      </div>'),x[1].innerHTML='<div>Humidité</div>\n                                      <div class = "number"><span>'.concat(e.current.humidity,'</span> %</div>\n                                      <div>\n                                        <div class = "percent">\n                                             <span>0</span> <span>50</span>  <span>100</span>\n                                        </div>\n                                        \n                                        <div class = "rang-container">\n                                             <div class= "rang" style = "width : ').concat(e.current.humidity,'%"></div>\n                                        </div>\n                                        <div class ="unit"><span>%</span></div>\n                                        \n                                      </div>'),x[2].innerHTML='<div>Visibilité</div>\n                                      <div class = "number">\n                                        <span>'.concat(Math.trunc(.001*e.current.visibility),"</span> km\n                                      </div>"),x[3].innerHTML='<div>Pression</div>\n                                      <div class = "number">\n                                        <span>'.concat(e.current.pressure,"</span> hPa\n                                      </div>"),setTimeout((function(){v.style.display="none"}),1e3)})).catch((function(){setTimeout((function(){v.style.display="none"}),1e3),T("<p>Oups, il y a un petit soucis avec notre API, revenez plus tard svp. :)<p>",!0)}))}function L(e){fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=").concat(b)).then((function(e){if(e.ok)return e.json();throw Error("error")})).then((function(e){u=!0;var n=e.coord.lat,t=e.coord.lon;a.innerText=e.name,S(n,t)})).catch((function(e){setTimeout((function(){v.style.display="none"}),1e3),"error"!==e.message?T("<p>Oups, il y a un petit soucis avec notre API, revenez plus tard svp. :)<p>",!0):T("<p>Oups, je ne connais pas encore cette ville mais on y travaille. :)<p>")}))}c.addEventListener("click",(function(e){e.currentTarget.parentElement.classList.toggle("show-form"),w?(e.currentTarget.innerText="X",w=!1):(e.currentTarget.innerText="Chercher une ville",w=!0)})),L("London"),s.addEventListener("click",(function(){u=!1,r&&i?(v.style.display="flex",S(r,i)):(T("<p>Veuillez autoriser la géolocalisation lorsque votre navigateur vous la demande.<p>"),setTimeout((function(){v.style.display="flex",navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){r=e.coords.latitude,i=e.coords.longitude,S(r,i)}),(function(){v.style.display="none",T("<p>Vous avez refusé la géolocalisation.\n                         Changer les paramètres de votre navigateur ou chercher directement votre ville par son nom.</p>")})):(v.style.display="none",T("<p>Votre navigateur ne peut faire de la géolocalisation. Chercher votre ville par son nom.</p>"))}),3e3))})),g.addEventListener("submit",(function(e){e.preventDefault();var n=h.value.trim();0!==n.length&&(h.value="",v.style.display="flex",L(n),w?(c.innerText="X",w=!1):(c.innerText="Chercher une ville",w=!0),g.parentElement.classList.remove("show-form"))}))},110:function(e,n,t){e.exports=t.p+"assets/c33ef66438b2725bead5.svg"},106:function(e,n,t){e.exports=t.p+"assets/6cf4adcd3e5042b69048.svg"},430:function(e,n,t){e.exports=t.p+"assets/7fb7ecfc8c851acab6d1.svg"},111:function(e,n,t){e.exports=t.p+"assets/4e6a9fdeed0f295b3dfb.svg"},206:function(e,n,t){e.exports=t.p+"assets/24f9a4741fe33f66bc0d.svg"},574:function(e,n,t){e.exports=t.p+"assets/7fb7ecfc8c851acab6d1.svg"},706:function(e,n,t){e.exports=t.p+"assets/24f9a4741fe33f66bc0d.svg"},780:function(e,n,t){e.exports=t.p+"assets/e2327d5071146989f596.svg"},279:function(e,n,t){e.exports=t.p+"assets/9988edfd7ac66c28e664.svg"},700:function(e,n,t){e.exports=t.p+"assets/130d6250fca4e54ff49f.svg"},841:function(e,n,t){e.exports=t.p+"assets/130d6250fca4e54ff49f.svg"},536:function(e,n,t){e.exports=t.p+"assets/130d6250fca4e54ff49f.svg"},807:function(e,n,t){e.exports=t.p+"assets/19ff3c30164844769f3c.svg"},590:function(e,n,t){e.exports=t.p+"assets/19ff3c30164844769f3c.svg"},459:function(e,n,t){e.exports=t.p+"assets/dce3f5e7e7d2c7e342ff.svg"},13:function(e,n,t){e.exports=t.p+"assets/dce3f5e7e7d2c7e342ff.svg"},476:function(e,n,t){e.exports=t.p+"assets/24f9a4741fe33f66bc0d.svg"},971:function(e,n,t){e.exports=t.p+"assets/24f9a4741fe33f66bc0d.svg"}},t={};function r(e){var i=t[e];if(void 0!==i)return i.exports;var o=t[e]={exports:{}};return n[e](o,o.exports,r),o.exports}r.m=n,e=[],r.O=function(n,t,i,o){if(!t){var s=1/0;for(d=0;d<e.length;d++){t=e[d][0],i=e[d][1],o=e[d][2];for(var c=!0,a=0;a<t.length;a++)(!1&o||s>=o)&&Object.keys(r.O).every((function(e){return r.O[e](t[a])}))?t.splice(a--,1):(c=!1,o<s&&(s=o));if(c){e.splice(d--,1);var u=i();void 0!==u&&(n=u)}}return n}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[t,i,o]},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},function(){var e;r.g.importScripts&&(e=r.g.location+"");var n=r.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var t=n.getElementsByTagName("script");t.length&&(e=t[t.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e+"../"}(),function(){var e={143:0,216:0};r.O.j=function(n){return 0===e[n]};var n=function(n,t){var i,o,s=t[0],c=t[1],a=t[2],u=0;if(s.some((function(n){return 0!==e[n]}))){for(i in c)r.o(c,i)&&(r.m[i]=c[i]);if(a)var d=a(r)}for(n&&n(t);u<s.length;u++)o=s[u],r.o(e,o)&&e[o]&&e[o][0](),e[s[u]]=0;return r.O(d)},t=self.webpackChunkweather_app=self.webpackChunkweather_app||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))}();var i=r.O(void 0,[216],(function(){return r(840)}));i=r.O(i)}();