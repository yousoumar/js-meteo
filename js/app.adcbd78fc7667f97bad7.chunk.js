!function(){"use strict";var e,t={305:function(e,t,n){var r={"01d":n.p+"assets/c33ef66438b2725bead5.svg","01n":n.p+"assets/6cf4adcd3e5042b69048.svg","02d":n.p+"assets/7fb7ecfc8c851acab6d1.svg","02n":n.p+"assets/4e6a9fdeed0f295b3dfb.svg","03d":n.p+"assets/24f9a4741fe33f66bc0d.svg","03n":n.p+"assets/7fb7ecfc8c851acab6d1.svg","04d":n.p+"assets/24f9a4741fe33f66bc0d.svg","04n":n.p+"assets/e2327d5071146989f596.svg","09d":n.p+"assets/9988edfd7ac66c28e664.svg","09n":n.p+"assets/130d6250fca4e54ff49f.svg","10d":n.p+"assets/130d6250fca4e54ff49f.svg","10n":n.p+"assets/130d6250fca4e54ff49f.svg","11d":n.p+"assets/19ff3c30164844769f3c.svg","11n":n.p+"assets/19ff3c30164844769f3c.svg","13d":n.p+"assets/dce3f5e7e7d2c7e342ff.svg","13n":n.p+"assets/dce3f5e7e7d2c7e342ff.svg","50d":n.p+"assets/24f9a4741fe33f66bc0d.svg","50n":n.p+"assets/24f9a4741fe33f66bc0d.svg"};const i=document.querySelector(".location"),s=document.querySelector("#toggle-form"),a=document.querySelector(".city span:last-child");let o=!1;const c=document.querySelector(".main-temperature-description div:first-child"),l=document.querySelector(".main-temperature"),d=document.querySelector(".today"),p=document.querySelector(".main-time-img img"),u=document.querySelector(".loader"),f=document.querySelectorAll(".weekend > div"),v=document.querySelector("form"),m=document.querySelector("input"),g=document.querySelector(".info"),h=document.querySelectorAll(".hightlights .content > div"),y="50021d7620cf40fe0d17ecde68cfceeb";let b,w,T=!0;function S(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];g.innerHTML=e,g.style.display="flex",t||setTimeout((()=>{g.style.display="none"}),3e3)}function x(e,t){fetch(`https://api.openweathermap.org/data/3.0/onecall?lang=fr&units=metric&lat=${e}&lon=${t}&appid=${y}`).then((e=>{if(e.ok)return e.json();throw Error()})).then((e=>{d.innerText=(new Date).toLocaleDateString("fr-FR",{weekday:"long",month:"long",day:"numeric"}),l.innerHTML=`<span>${Math.trunc(e.current.temp)}</span> °C`,o||(a.innerText=e.timezone),c.innerText=e.current.weather[0].description,p.src=r[e.current.weather[0].icon];const t=["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"];let n=(new Date).toLocaleDateString("fr-FR",{weekday:"long"});n=n.charAt(0).toUpperCase()+n.slice(1);let i=t.slice(t.indexOf(n)).concat(t.slice(0,t.indexOf(n)));document.querySelector("h1").innerHTML="Les points forts";for(let t=0;t<f.length;t++)f[t].innerHTML=`<div>${i[t]}</div>\n                                       <div><img src = ${r[`${e.daily[t].weather[0].icon}`]} = ></img></div>\n                                       <div><span class="max">${Math.trunc(e.daily[t].temp.max)}°C</span> <span class="min">${Math.trunc(e.daily[t].temp.min)}°C</span></div>`;h[0].innerHTML=`<div>Vitesse du vent</div>\n                                      <div class = "number"><span>${e.current.wind_speed}</span> m/s</div>\n                                      <div class ="icon-container"> \n                                        <i class="fas fa-location-arrow"></i>\n                                        <div> WSW</div>\n                                      </div>`,h[1].innerHTML=`<div>Humidité</div>\n                                      <div class = "number"><span>${e.current.humidity}</span> %</div>\n                                      <div>\n                                        <div class = "percent">\n                                             <span>0</span> <span>50</span>  <span>100</span>\n                                        </div>\n                                        \n                                        <div class = "rang-container">\n                                             <div class= "rang" style = "width : ${e.current.humidity}%"></div>\n                                        </div>\n                                        <div class ="unit"><span>%</span></div>\n                                        \n                                      </div>`,h[2].innerHTML=`<div>Visibilité</div>\n                                      <div class = "number">\n                                        <span>${Math.trunc(.001*e.current.visibility)}</span> km\n                                      </div>`,h[3].innerHTML=`<div>Pression</div>\n                                      <div class = "number">\n                                        <span>${e.current.pressure}</span> hPa\n                                      </div>`,setTimeout((()=>{u.style.display="none"}),1e3)})).catch((()=>{setTimeout((()=>{u.style.display="none"}),1e3),S("<p>Oups, il y a un petit soucis avec notre API, revenez plus tard svp. :)<p>",!0)}))}function $(e){fetch(`https://api.openweathermap.org/geo/1.0/direct?q=${e}&limit=1&appid=${y}`).then((e=>{if(e.ok)return e.json();throw Error("error")})).then((e=>{o=!0;let t=e[0].lat,n=e[0].lon;a.innerText=e[0].name,x(t,n)})).catch((e=>{setTimeout((()=>{u.style.display="none"}),1e3),"error"!==e.message?S("<p>Oups, il y a un petit soucis avec notre API, revenez plus tard svp. :)<p>",!0):S("<p>Oups, je ne connais pas encore cette ville mais on y travaille. :)<p>")}))}s.addEventListener("click",(e=>{e.currentTarget.parentElement.classList.toggle("show-form"),T?(e.currentTarget.innerText="X",T=!1):(e.currentTarget.innerText="Chercher une ville",T=!0)})),$("London"),i.addEventListener("click",(()=>{o=!1,b&&w?(u.style.display="flex",x(b,w)):(S("<p>Veuillez autoriser la géolocalisation lorsque votre navigateur vous la demande.<p>"),setTimeout((()=>{u.style.display="flex",navigator.geolocation?navigator.geolocation.getCurrentPosition((e=>{b=e.coords.latitude,w=e.coords.longitude,x(b,w)}),(()=>{u.style.display="none",S("<p>Vous avez refusé la géolocalisation.\n                         Changer les paramètres de votre navigateur ou chercher directement votre ville par son nom.</p>")}),{enableHighAccuracy:!0}):(u.style.display="none",S("<p>Votre navigateur ne peut faire de la géolocalisation. Chercher votre ville par son nom.</p>"))}),3e3))})),v.addEventListener("submit",(e=>{e.preventDefault();let t=m.value.trim();0!==t.length&&(m.value="",u.style.display="flex",$(t),T?(s.innerText="X",T=!1):(s.innerText="Chercher une ville",T=!0),v.parentElement.classList.remove("show-form"))}))}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var s=n[e]={exports:{}};return t[e](s,s.exports,r),s.exports}r.m=t,e=[],r.O=function(t,n,i,s){if(!n){var a=1/0;for(d=0;d<e.length;d++){n=e[d][0],i=e[d][1],s=e[d][2];for(var o=!0,c=0;c<n.length;c++)(!1&s||a>=s)&&Object.keys(r.O).every((function(e){return r.O[e](n[c])}))?n.splice(c--,1):(o=!1,s<a&&(a=s));if(o){e.splice(d--,1);var l=i();void 0!==l&&(t=l)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[n,i,s]},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var i=n.length-1;i>-1&&(!e||!/^http(s?):/.test(e));)e=n[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e+"../"}(),function(){var e={524:0,96:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,s,a=n[0],o=n[1],c=n[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(i in o)r.o(o,i)&&(r.m[i]=o[i]);if(c)var d=c(r)}for(t&&t(n);l<a.length;l++)s=a[l],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(d)},n=self.webpackChunkweather_app=self.webpackChunkweather_app||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var i=r.O(void 0,[96],(function(){return r(305)}));i=r.O(i)}();